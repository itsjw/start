<?xml version="1.0" encoding="UTF-8"?>
<database name="start" defaultIdMethod="native">
    <table name="activity" phpName="Activity" namespace="\Perfumerlabs\Start\Model">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer"/>
        <column name="name" type="varchar" size="255"/>
        <column name="priority" type="integer"/>
        <column name="title" type="longvarchar"/>
        <column name="data" type="longvarchar"/>
        <column name="raised_at" type="timestamp"/>
        <column name="picked_at" type="timestamp"/>
        <column name="closed_at" type="timestamp"/>
        <behavior name="timestampable" />
        <foreign-key foreignTable="_user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="schedule" phpName="Schedule" namespace="\Perfumerlabs\Start\Model">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer"/>
        <column name="role_id" type="integer"/>
        <column name="activities" type="array"/>
        <column name="week_day" type="integer"/>
        <column name="_date" type="date" phpName="Date"/>
        <column name="time_from" type="time"/>
        <column name="time_to" type="time"/>
        <foreign-key foreignTable="_user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="_role" phpName="Role">
            <reference local="role_id" foreign="id"/>
        </foreign-key>
    </table>
</database>